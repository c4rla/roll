<!DOCTYPE html>
<html lang="zh-CN">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='ä¸€é¼“ä½œæ°”åšå®Œï¼'><title>åšé¢˜ç¬”è®°07ï¼šå­—ç¬¦ä¸²/åŒæŒ‡é’ˆ/è´ªå¿ƒç®—æ³•/æ¨¡æ‹Ÿ</title>

<link rel='canonical' href='https://c4rla.github.io/roll/p/oj-07/'>

<link rel="stylesheet" href="https://c4rla.github.io/roll/scss/style.min.b949db8bead9abdc40291b93383b8da6abc3aa62e74f5580356c06ddbb792dab.css"><meta property='og:title' content='åšé¢˜ç¬”è®°07ï¼šå­—ç¬¦ä¸²/åŒæŒ‡é’ˆ/è´ªå¿ƒç®—æ³•/æ¨¡æ‹Ÿ'>
<meta property='og:description' content='ä¸€é¼“ä½œæ°”åšå®Œï¼'>
<meta property='og:url' content='https://c4rla.github.io/roll/p/oj-07/'>
<meta property='og:site_name' content='å·å¿ƒèœ'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='OJ' /><meta property='article:published_time' content='2022-04-13T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2022-04-13T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="åšé¢˜ç¬”è®°07ï¼šå­—ç¬¦ä¸²/åŒæŒ‡é’ˆ/è´ªå¿ƒç®—æ³•/æ¨¡æ‹Ÿ">
<meta name="twitter:description" content="ä¸€é¼“ä½œæ°”åšå®Œï¼">
    <link rel="shortcut icon" href="https://c4rla.github.io/roll/img/favicon.png" />
<style type="text/css">
    .site-info {text-align: center;}
    .site-info > figure.site-avatar {margin: 0 auto var(--sidebar-element-separation);}
     
     
    @media (min-width: 768px) {.container .left-sidebar {width: 100%;}}
    blockquote.quote {position: relative; margin: 1.5em -10em 0 -10; padding-left: 18%; padding-right: 15%; border: none; background-color: transparent}
    blockquote.quote::before {position: absolute; left: 7%; content: 'â€œ'; color: var(--color-contrast-low); font-family: serif; font-size: 3em; font-weight: 700; line-height: 1}
    blockquote cite {display: block; text-align: right;}
    .article-content>p:not(.no-text) {overflow-x: auto; overflow-y: hidden;}
</style>
    </head>
    <body class="
    article-page has-toc
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        extended
    
">
    
        <div id="article-toolbar">
            <a href="https://c4rla.github.io/roll/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>è¿”å›</span>
            </a>
        </div>
    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <h2 class="article-title">
        <a href="https://c4rla.github.io/roll/p/oj-07/">åšé¢˜ç¬”è®°07ï¼šå­—ç¬¦ä¸²/åŒæŒ‡é’ˆ/è´ªå¿ƒç®—æ³•/æ¨¡æ‹Ÿ</a>
    </h2>

    
    <h3 class="article-subtitle">
        ä¸€é¼“ä½œæ°”åšå®Œï¼
    </h3>
    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2022å¹´4æœˆ13æ—¥</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 16 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    
    
    <h2 id="bm83-å­—ç¬¦ä¸²å˜å½¢">BM83 å­—ç¬¦ä¸²å˜å½¢</h2>
<p>æ„Ÿæ© Pythonï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">trans</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">swapcase</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div><h2 id="bm84-æœ€é•¿å…¬å…±å‰ç¼€">BM84 æœ€é•¿å…¬å…±å‰ç¼€</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestCommonPrefix</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">strs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">strs</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div><h2 id="bm85-éªŒè¯ipåœ°å€">BM85 éªŒè¯IPåœ°å€</h2>
<p>å¥½æ— èŠçš„é¢˜ç›®ï¼Œæ˜æ˜æœ‰å†…ç½®å‡½æ•°ä¸ç»™ç”¨â€¦â€¦ç›´æ¥æŠ„é¢˜è§£äº†ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">validate_IPv4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IP</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nums</span> <span class="o">=</span> <span class="n">IP</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="c1"># Validate integer in range (0, 255):</span>
            <span class="c1"># 1. length of chunk is between 1 and 3</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&#34;Neither&#34;</span>
            <span class="c1"># 2. no extra leading zeros</span>
            <span class="c1"># 3. only digits are allowed</span>
            <span class="c1"># 4. less than 255</span>
            <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&#34;Neither&#34;</span>
        <span class="k">return</span> <span class="s2">&#34;IPv4&#34;</span>
    
    <span class="k">def</span> <span class="nf">validate_IPv6</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IP</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">nums</span> <span class="o">=</span> <span class="n">IP</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
        <span class="n">hexdigits</span> <span class="o">=</span> <span class="s1">&#39;0123456789abcdefABCDEF&#39;</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>
            <span class="c1"># Validate hexadecimal in range (0, 2**16):</span>
            <span class="c1"># 1. at least one and not more than 4 hexdigits in one chunk</span>
            <span class="c1"># 2. only hexdigits are allowed: 0-9, a-f, A-F</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="n">hexdigits</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">x</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&#34;Neither&#34;</span>
        <span class="k">return</span> <span class="s2">&#34;IPv6&#34;</span>

    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">IP</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">IP</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_IPv4</span><span class="p">(</span><span class="n">IP</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">IP</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_IPv6</span><span class="p">(</span><span class="n">IP</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&#34;Neither&#34;</span>
</code></pre></div><h2 id="bm86-å¤§æ•°åŠ æ³•">BM86 å¤§æ•°åŠ æ³•</h2>
<p>çœŸçš„å¥½æ— èŠï¼Œæ˜æ˜ä¹‹å‰åœ¨é“¾è¡¨åšè¿‡äº†â€¦â€¦</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</code></pre></div><h2 id="bm87-åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„">BM87 åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„</h2>
<p>åˆå¹¶æ’åºï¼Œç†Ÿæ‚‰çš„åŒæŒ‡é’ˆï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">m</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">B</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">head</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">head</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">head</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">head</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">head</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">head</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">head</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">head</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="n">head</span><span class="p">]</span>
                <span class="n">head</span> <span class="o">=</span> <span class="n">head</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div><p>çœ‹äº†é¢˜è§£æ‰çŸ¥é“å¯ä»¥é€ƒè¯¾ï¼Œæ–°æŠ€èƒ½ getï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">A</span><span class="p">[</span><span class="n">m</span><span class="p">:</span> <span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span>
        <span class="k">return</span> <span class="n">A</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</code></pre></div><h2 id="bm88-åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²">BM88 åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²</h2>
<p><del>é€ƒè¯¾ä¸‡å²ï¼</del></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">judge</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span> <span class="o">==</span> <span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div><p>åŒæŒ‡é’ˆåè€Œæ˜¯æœ€æ…¢çš„ğŸ˜‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">judge</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
</code></pre></div><h2 id="bm89-åˆå¹¶åŒºé—´">BM89 åˆå¹¶åŒºé—´</h2>
<p>å…ˆæŒ‰å¼€å¤´æ•°å­—æ’åºå†åˆå¹¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">intervals</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Interval</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Interval</span><span class="p">]:</span>
        <span class="n">intervals</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="ow">or</span> <span class="n">i</span><span class="o">.</span><span class="n">start</span> <span class="o">&gt;</span> <span class="n">result</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h2 id="bm90-æœ€å°è¦†ç›–å­ä¸²">BM90 æœ€å°è¦†ç›–å­ä¸²</h2>
<p>çœ‹æ¸…æ¥šé¢˜ç›®å¾ˆé‡è¦ğŸ˜‚</p>
<p>è¿™é‡Œçš„è¦†ç›–ï¼ŒæŒ‡çš„æ˜¯åŒ…å« T ä¸­æ‰€æœ‰å­—æ¯ï¼Œå¹¶ä¸”å­—æ¯çš„æ•°é‡ä¹Ÿè¦è¦†ç›–ã€‚æ¯”å¦‚ T ä¸­æœ‰ 3 ä¸ª &quot;a&quot;ï¼Œè¦†ç›–çš„å­ä¸²ä¹Ÿè¦è‡³å°‘å«æœ‰ 3 ä¸ª &quot;a&quot;ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ&quot;a&quot; ä¸èƒ½è¦†ç›– &quot;aa&quot;ã€‚</p>
<p>ç©·ä¸¾å¤§æ¦‚æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„åŠæ³•äº†ã€‚é¦–å…ˆå‡†å¤‡ä¸€ä¸ª end æŒ‡é’ˆéå† Sï¼Œå¦‚æœ S å‰ end ä¸ªå­—æ¯èƒ½è¦†ç›– Tï¼Œå°±ç”¨å¦ä¸€ä¸ªæŒ‡é’ˆ start ä»æœ€å·¦è¾¹å¼€å§‹æ±‚æœ€å°è¦†ç›–ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">S</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">T</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">cover</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">t</span> <span class="ow">in</span> <span class="n">S</span> <span class="ow">and</span> <span class="n">S</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">T</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">cover</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">T</span><span class="p">):</span>
                <span class="n">start</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">while</span> <span class="n">cover</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">start</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">T</span><span class="p">):</span>
                    <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">end</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">S</span><span class="p">[</span><span class="n">start</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><p>ç„¶åå°±è¶…æ—¶å•¦ğŸ˜‚</p>
<p>æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æ”¹è¿›ä¸€ä¸‹å‘¢ï¼Ÿä¸éš¾çœ‹åˆ°æœ€å¤§çš„é—®é¢˜æ˜¯ start æ€»æ˜¯ä» 0 å¼€å§‹ï¼Œä¸èƒ½ä½¿ç”¨å‰ä¸€æ¬¡çš„ç»“æœã€‚æ³¨æ„åˆ°ï¼š</p>
<blockquote>
<p><strong>å‘½é¢˜</strong> å¦‚æœå­˜åœ¨æ¯”å½“å‰æ›´å°çš„è¦†ç›–å­ä¸²ï¼Œåˆ™è¯¥å­ä¸²çš„ start ä¸€å®šè‡³å°‘æ˜¯å½“å‰çš„ start + 1ã€‚</p>
<p><strong>è¯æ˜</strong> é¦–å…ˆæ˜¾ç„¶ S[start:end + 1] æ˜¯ S[:end + 1] çš„æœ€å°è¦†ç›–å­ä¸²ï¼Œå› ä¸ºç›´åˆ°ç¬¬ end ä½æ‰å‡‘é½æ‰€æœ‰å­—æ¯ï¼Œç»“æŸä½ä¸å¯èƒ½å°äº endï¼›åˆç”±äº start åœ¨å‡å°‘åˆ° S[start:end + 1] ä¸ä¸ºæœ€å°è¦†ç›–å­ä¸²ååœæ­¢ï¼Œå¼€å§‹ä½ä¹Ÿä¸å¯èƒ½å¤§äº startï¼Œå¾—è¯ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœå­˜åœ¨æ›´å°çš„è¦†ç›–å­ä¸²ï¼Œå­ä¸²çš„ end ä¸€å®šå¤§äºå½“å‰çš„ endï¼Œä»è€Œ start ä¹Ÿå¿…ç„¶ä¼šå¤§äºå½“å‰çš„ startã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯é¢˜è§£ä½¿ç”¨çš„ <a class="link" href="https://assets.leetcode-cn.com/solution-static/76/76_fig1.gif"  target="_blank" rel="noopener"
    >æ»‘åŠ¨çª—å£æ³•</a> äº†ï¼Œä¸è¿‡ä¾ç„¶æ˜¯è¶…æ—¶ğŸ˜‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">S</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">T</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">cover</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">t</span> <span class="ow">in</span> <span class="n">S</span> <span class="ow">and</span> <span class="n">S</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">T</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)):</span>
            <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">cover</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">start</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">T</span><span class="p">):</span>
                <span class="k">while</span> <span class="n">cover</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">start</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">T</span><span class="p">):</span>
                    <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">end</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">S</span><span class="p">[</span><span class="n">start</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><p>ä¸éš¾çœ‹åˆ°ç›®å‰çš„æ€§èƒ½ç“¶é¢ˆå°±æ˜¯ cover å‡½æ•°äº†ï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æŠŠ cover çš„æ—¶é—´å¤æ‚åº¦é™åˆ° O(1) å‘¢ï¼Ÿè‡ªç„¶æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´äº†ï¼š</p>
<ol>
<li>ä½¿ç”¨ä¸€ä¸ªå­—å…¸ d å­˜æ”¾ T ä¸­æ‰€æœ‰å­—æ¯å’Œå‡ºç°çš„æ¬¡æ•°ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡ missing å­˜æ”¾è¿˜ç¼ºå°‘çš„å­—æ¯æ•°é‡ï¼Œæ˜¾ç„¶æ£€æŸ¥ cover å˜æˆäº†æ£€æŸ¥ missing æ˜¯å¦ç­‰äº 0ã€‚</li>
<li>ä»å·¦å¾€å³æ‰«æ Sï¼Œå¦‚æœé‡åˆ° d ä¸­å­˜åœ¨çš„å­—æ¯ï¼Œä¸” d[s] &gt; 0ï¼Œåˆ™ d[s] å’Œ missing åŒæ—¶å‡ 1ï¼›</li>
<li>å¦‚æœ d[s] &lt;= 0 åˆ™ missing ä¿æŒä¸å˜ï¼Œd[s] å‡ 1ï¼›</li>
<li>æ¥ä¸‹æ¥æ£€æŸ¥ missingï¼Œå¦‚æœ missing ç­‰äº 0ï¼Œè¯´æ˜å½“å‰çª—å£ S[start: end + 1] æ˜¯è¦†ç›–äº†æ‰€æœ‰å­—æ¯çš„å­ä¸²ï¼Œå°è¯• start è‡ªå¢ä»¥ç¼©å°çª—å£ï¼›</li>
<li>åœ¨ start åŠ ä¸€ä¹‹å‰ï¼Œéœ€è¦åŒæ—¶æŠŠ d[S[start]] åŠ ä¸€ã€‚å¦‚æœ d[S[start]] å¤§äºç­‰äº 0ï¼Œè¿˜è¦åŒæ—¶æŠŠ missing åŠ ä¸€ï¼›</li>
<li>å½“ start è‡ªå¢åˆ° S[start: end + 1] ä¸æ˜¯è¦†ç›–å­ä¸²æ—¶ï¼Œè®°å½•ä¸‹ S[start - 1: end + 1] ä½œä¸ºç»“æœã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">S</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">T</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
        <span class="n">missing</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">),</span> <span class="n">Counter</span><span class="p">(</span><span class="n">T</span><span class="p">),</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">S</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span> <span class="c1"># è®°å½•å½“å‰å­—æ¯</span>
                <span class="n">missing</span> <span class="o">-=</span> <span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">S</span><span class="p">[</span><span class="n">end</span><span class="p">]]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">d</span><span class="p">[</span><span class="n">S</span><span class="p">[</span><span class="n">end</span><span class="p">]]</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">missing</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># ç›®å‰çª—å£åŒ…å«äº†æ‰€æœ‰å­—æ¯ï¼Œå·¦æŒ‡é’ˆå¾€å³ç§»</span>
                <span class="k">while</span> <span class="n">missing</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">S</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
                        <span class="n">missing</span> <span class="o">+=</span> <span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">S</span><span class="p">[</span><span class="n">start</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
                        <span class="n">d</span><span class="p">[</span><span class="n">S</span><span class="p">[</span><span class="n">start</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">end</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">S</span><span class="p">[</span><span class="n">start</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="c1"># è®°å½•ç»“æœ</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><p>è™½ç„¶æ˜¯é€šè¿‡äº†ï¼Œä½†è¿™ä¸ªæ–¹æ³•ä¸€å®šå¯ä»¥æ‰¾åˆ°æœ€å°è¦†ç›–å­ä¸²å—ï¼Ÿè¿™å°±éœ€è¦è¯æ˜ start èƒ½åˆ°è¾¾æœ€å°è¦†ç›–å­ä¸²çš„å¼€å¤´å­—æ¯ï¼Œä¸”åœ¨æ­¤ä¹‹å‰ end æ²¡æœ‰è¾¾åˆ°æœ€å°è¦†ç›–å­ä¸²çš„ç»“æŸå­—æ¯ä¹‹åã€‚åè€…æ˜¯æ˜¾ç„¶çš„ï¼Œå› ä¸ºæœ€å°è¦†ç›–å­ä¸²å·²ç»æ¶µç›–äº†æ‰€æœ‰å­—æ¯ï¼Œç”±éå†çš„è¿‡ç¨‹ï¼Œä¸å¯èƒ½åœ¨ start åˆ°è¾¾å¼€å¤´ä¹‹å‰ end å·²ç»è·³è¿‡äº†ç»“å°¾ã€‚è‡³äºå‰è€…ï¼Œæƒ³äº†åŠå°æ—¶æ‰æƒ³æ˜ç™½ğŸ˜‚</p>
<p>å› ä¸º start æ˜¯ä¸€ä¸ªä¸€ä¸ªå…ƒç´ éå†çš„ï¼Œåªéœ€è¦è¯æ˜ start å¿…ç„¶ä¼šåœåœ¨æœ€å°å­ä¸²çš„å¼€å¤´å³å¯ã€‚å¦‚æœåœ¨ start è¿˜æ²¡åˆ°è¾¾å¼€å¤´ä¹‹å‰ï¼Œend å·²ç»åˆ°è¾¾ç»“å°¾ï¼Œåˆ™å·²ç»ç¬¦åˆè¦æ±‚ï¼›å¦‚æœ end æ²¡æœ‰åˆ°è¾¾ç»“å°¾ï¼Œæ¯”å¦‚åˆšå¥½æ˜¯å€’æ•°ç¬¬ 2 ä¸ªå…ƒç´ ï¼Œåˆ™ start å¤„çš„å€¼ä¸€å®šå’Œæœ€å°å­ä¸²æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ç›¸ç­‰ï¼Œæ˜¾ç„¶ä¸‹ä¸€æ¬¡ç§»åŠ¨å°±èƒ½è¾¾åˆ°è¦æ±‚ï¼›åŒç†ï¼Œå€’æ•°ç¬¬ n ä¸ªå…ƒç´ æœ€å¤šåªéœ€è¦å†ç§»åŠ¨ n-1 æ¬¡ï¼Œä¸€å®šä¼šç§»åŠ¨åˆ°æœ€å°å­ä¸²çš„å¼€å¤´ã€‚</p>
<h2 id="bm91-åè½¬å­—ç¬¦ä¸²">BM91 åè½¬å­—ç¬¦ä¸²</h2>
<p>å› ä¸º Python çš„å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œç”¨ä¸äº†åŒæŒ‡é’ˆï¼Œå¯ä»¥ç†ç›´æ°”å£®é€ƒè¯¾ğŸ˜‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div><h2 id="bm92-æœ€é•¿æ— é‡å¤å­æ•°ç»„">BM92 æœ€é•¿æ— é‡å¤å­æ•°ç»„</h2>
<p>å’Œ BM90 å¾ˆåƒï¼Œä¹Ÿæ˜¯æ»‘åŠ¨çª—å£ã€‚å¦‚æœ arr[start:end] æ²¡æœ‰é‡å¤è€Œ arr[start: end + 1] å‡ºç°äº†é‡å¤ï¼Œä¹Ÿå°±æ˜¯è¯´ arr[end] å‡ºç°åœ¨ arr[start:end] çš„æŸä¸ªä½ç½® posï¼Œæ˜¾ç„¶ä¸‹ä¸€ä¸ªå¯èƒ½çš„æœ€é•¿æ— é‡å¤å­æ•°ç»„çš„ start ä¸€å®šæ˜¯ä» pos + 1 å¼€å§‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxLength</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">d</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="p">{},</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">end</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span> <span class="c1"># å‡ºç°é‡å¤ï¼Œåˆ°è¾¾ä¸‹ä¸€ä¸ªå­ä¸²</span>
                <span class="k">while</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>
                    <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">])</span>
                    <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># æ²¡æœ‰é‡å¤</span>
                <span class="n">d</span><span class="p">[</span><span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">result</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h2 id="bm93-ç››æ°´æœ€å¤šçš„å®¹å™¨">BM93 ç››æ°´æœ€å¤šçš„å®¹å™¨</h2>
<p>ç¬¨åŠæ³•è‡ªç„¶æ˜¯ç©·ä¸¾æ‰€æœ‰å¯èƒ½ï¼Œç„¶åå¾ˆå¿«æ„è¯†åˆ°å¹¶ä¸éœ€è¦ï¼Œå¦‚æœ height[start] &lt; height[end]ï¼Œend å†æ€ä¹ˆå˜åŒ–ï¼Œç››æ°´çš„é‡ä¹Ÿä¸ä¼šå˜å¤šï¼Œäºæ˜¯åªéœ€è¦æŠŠè¾ƒå°çš„ä¸€è¾¹å‰å¾€ä¸‹ä¸€ä¸ªå¯èƒ½çš„å€¼å³å¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxArea</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">start</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">end</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">height</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">[</span><span class="n">end</span><span class="p">]:</span>
                <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h2 id="bm94-æ¥é›¨æ°´é—®é¢˜">BM94 æ¥é›¨æ°´é—®é¢˜</h2>
<h3 id="æ–¹æ³•ä¸€æ­£åéå†">æ–¹æ³•ä¸€ï¼šæ­£åéå†</h3>
<p>è¿™é¢˜å¦‚æœç›´æ¥åšå¯èƒ½æ— ä»ä¸‹æ‰‹ï¼Œå¥½åœ¨åšè¿‡ BM93 ä¹‹åï¼Œå¤šå¤šå°‘å°‘ä¼šæœ‰å¤´ç»ªï¼šå¦‚æœä¸€ä¸ªä½ç½® i è¦å‚¨æ°´ï¼Œä¸€å®šè¦æ¯”æ°´æ¡¶çš„ä¸¤è¾¹éƒ½è¦ä½ã€‚æ€ä¹ˆæ‰¾åˆ°æ°´æ¡¶çš„ä¸¤è¾¹å‘¢ï¼Ÿ</p>
<p>å†ä»”ç»†æƒ³æƒ³å°±ä¼šæ˜ç™½ï¼Œæ°´æ¡¶çš„å·¦è¾¹æ˜¯ i å·¦è¾¹çš„æœ€å¤§å€¼ï¼Œæ°´æ¡¶çš„å³è¾¹æ˜¯ i å³è¾¹çš„æœ€å¤§å€¼ï¼Œäºæ˜¯å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸¤é‡å¾ªç¯æ¥è§£å†³ã€‚ç„¶åå¾ˆå¿«å°±ä¼šå‘ç°ï¼Œi å·¦è¾¹çš„æœ€å¤§å€¼å’Œ i å³è¾¹çš„æœ€å¤§å€¼éƒ½å¯ä»¥é€šè¿‡ä¸€æ¬¡éå†å¾—åˆ°ï¼Œäºæ˜¯æ—¶é—´å¤æ‚åº¦å°±é™åˆ°äº† O(n)ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxWater</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left_max</span><span class="p">,</span> <span class="n">right_max</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">left_max</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">left_max</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">right_max</span><span class="p">[</span><span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">right_max</span><span class="p">[</span><span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span> <span class="c1"># å…¶å®ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½éƒ½æ¥ä¸äº†é›¨æ°´</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">left_max</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">right_max</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span> <span class="c1"># æ¥é›¨æ°´</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="nb">min</span><span class="p">(</span><span class="n">left_max</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">right_max</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h3 id="æ–¹æ³•äºŒåŒæŒ‡é’ˆ">æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ</h3>
<p>å’Œ BM93 çš„åŒæŒ‡é’ˆæ³•å¾ˆç›¸ä¼¼ï¼Œé¦–å…ˆæŠŠ start, end æŒ‡å‘æ•°ç»„çš„ä¸¤ç«¯ï¼Œå¹¶å‡†å¤‡ left_max, right_max ä¸¤ä¸ªæ•°ç»„ï¼ˆå…¶å®åªéœ€è¦ä¸¤ä¸ªæ•°ï¼‰ï¼š</p>
<ol>
<li>å¦‚æœ left_max[start] &lt; right_max[end]ï¼Œå› ä¸º right_max[end] &lt;= right_max[start]ï¼Œæ˜¾ç„¶æ­¤æ—¶å¯¹ start è€Œè¨€ï¼Œå·¦è¾¹æ˜¯æœ€å°çš„ä¸€è¾¹ï¼Œè®¡ç®—å‡ºé›¨æ°´é‡çš„å¤§å°ï¼Œç„¶å start å¾€å³ç§»ï¼›</li>
<li>å¦‚æœ left_max[start] &gt;= right_max[end]ï¼Œå› ä¸º left_max[end] &gt;= left_max[start]ï¼Œæ˜¾ç„¶æ­¤æ—¶å¯¹ end è€Œè¨€ï¼Œå³è¾¹æ˜¯æœ€å°çš„ä¸€è¾¹ï¼Œè®¡ç®—å‡ºé›¨æ°´é‡çš„å¤§å°ï¼Œç„¶å end å¾€å·¦ç§»ï¼›</li>
<li>å½“ start &gt; end æ—¶ç»ˆæ­¢å¾ªç¯ï¼Œè¿”å›ç»“æœã€‚</li>
</ol>
<p>ç®—æ³•çš„æ­£ç¡®æ€§æ—¶æ˜¾ç„¶çš„ï¼Œå› ä¸ºæ¯æ¬¡å¾ªç¯æ°å¥½ç®—å‡ºä¸€ä¸ªä½ç½®çš„é›¨æ°´é‡ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxWater</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">left_max</span><span class="p">,</span> <span class="n">right_max</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
            <span class="n">left_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">left_max</span><span class="p">,</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">])</span>
            <span class="n">right_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">right_max</span><span class="p">,</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">left_max</span> <span class="o">&lt;</span> <span class="n">right_max</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="n">left_max</span> <span class="o">-</span> <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
                <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="n">right_max</span> <span class="o">-</span> <span class="n">arr</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>
                <span class="n">end</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h3 id="æ–¹æ³•ä¸‰å•è°ƒæ ˆ">æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆ</h3>
<p>è¿™ä¸ªç®—æ³•ä»¿ä½›æ˜¯ä¸ºè¿™é“é¢˜ç›®é‡èº«å®šåˆ¶çš„ï¼Œä½†æ˜¯å‹æ ¹æƒ³ä¸å‡ºæ¥ï¼š</p>
<ol>
<li>ä½¿ç”¨ä¸€ä¸ªå•è°ƒæ ˆå­˜å‚¨å…ƒç´ çš„ç´¢å¼•ï¼›</li>
<li>å¦‚æœå…ƒç´ çš„å¤§å°å°äºç­‰äºæ ˆé¡¶å…ƒç´ çš„å¤§å°ï¼Œå…¥æ ˆï¼›</li>
<li>å¦‚æœå…ƒç´ çš„å¤§å°å¤§äºæ ˆé¡¶å…ƒç´ çš„å¤§å°ï¼Œå‡ºæ ˆï¼Œç›´åˆ°å…ƒç´ çš„å¤§å°å°äºç­‰äºæ ˆé¡¶å…ƒç´ çš„å¤§å°ä¸ºæ­¢ï¼ˆæˆ–è€…æ ˆä¸ºç©ºï¼‰ï¼›</li>
<li>æ¯å‡ºæ ˆä¸€ä¸ªï¼ˆéæ ˆåº•ï¼‰å…ƒç´ ï¼Œç®—ä¸€æ¬¡é›¨æ°´çš„å®½åº¦ï¼ˆi å’Œå‰©ä¸‹çš„æ ˆé¡¶å…ƒç´ çš„é—´éš”ï¼‰å’Œé«˜åº¦ï¼ˆi å’Œå‰©ä¸‹æ ˆé¡¶å…ƒç´ çš„æœ€å°å€¼ï¼Œå‡å»å‡ºæ ˆå…ƒç´ çš„å€¼ï¼‰ï¼Œç´¯åŠ èµ·æ¥å°±æ˜¯ç»“æœã€‚</li>
</ol>
<p><a class="link" href="https://leetcode-cn.com/problems/trapping-rain-water/solution/jie-yu-shui-by-leetcode-solution-tuvc/"  target="_blank" rel="noopener"
    >å®˜æ–¹é¢˜è§£</a> æ›´è¯¦ç»†ï¼Œä¸è¿‡æ—¢ç„¶æœ‰æ›´å¥½çš„è§£æ³•äº†ï¼Œçœ‹ä¸æ‡‚ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ğŸ˜‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxWater</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">stack</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="p">[],</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">arr</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]:</span> <span class="c1"># å…¥æ ˆ</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># å‡ºæ ˆï¼Œç®—é›¨æ°´</span>
                <span class="k">while</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]:</span>
                    <span class="n">top</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span><span class="p">:</span> <span class="c1"># æ ˆåº•å…ƒç´ ï¼Œè·³è¿‡</span>
                        <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">left</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># å‰©ä¸‹çš„æ ˆé¡¶å…ƒç´ </span>
                        <span class="n">width</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span>
                        <span class="n">height</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">left</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="n">arr</span><span class="p">[</span><span class="n">top</span><span class="p">]</span>
                        <span class="n">result</span> <span class="o">+=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">height</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h2 id="bm95-åˆ†ç³–æœé—®é¢˜">BM95 åˆ†ç³–æœé—®é¢˜</h2>
<p>çœ‹äº†é¢˜è§£å¥½ä¹…è¿˜æ˜¯æ²¡çœ‹æ‡‚â€¦â€¦å¦‚æœé¢è¯•é‡åˆ°è¿™é“é¢˜å°±åªèƒ½ğŸ˜­</p>
<h3 id="æ–¹æ³•ä¸€ç›´æ¥æ³•">æ–¹æ³•ä¸€ï¼šç›´æ¥æ³•</h3>
<ol>
<li>ä»å·¦åˆ°å³éå†æ•°ç»„ï¼›</li>
<li>å¦‚æœ arr[i] &gt; arr[i - 1]ï¼Œå°±åˆ† pre + 1 é¢—ç³–ï¼Œä¸Šå‡è®¡æ•°+1ï¼›</li>
<li>å¦‚æœ arr[i] == arr[i - 1]ï¼Œåªéœ€è¦åˆ† 1 é¢—ç³–ï¼Œé‡æ–°å¼€å§‹ï¼›</li>
<li>å¦‚æœ arr[i] &lt; arr[i - 1]ï¼Œåªéœ€è¦åˆ† 1 é¢—ç³–ï¼Œå¹¶ä¸”æŠŠå‰é¢è¿ç»­é€’å‡çš„æ•°å­—éƒ½ +1ã€‚</li>
</ol>
<p>å‰é¢ 3 æ­¥éƒ½å¾ˆå®¹æ˜“ç†è§£ï¼Œå”¯ç‹¬ç¬¬ 4 æ­¥ä¸å®¹æ˜“ç†è§£ä¹Ÿä¸å¥½å†™ï¼Œ<a class="link" href="https://leetcode-cn.com/problems/candy/solution/fen-fa-tang-guo-by-leetcode-solution-f01p/"  target="_blank" rel="noopener"
    >é¢˜è§£</a> çš„åšæ³•æ˜¯ç”¨ increase è®°å½•å‰é¢çš„ä¸Šå‡æ¬¡æ•°ï¼ˆå³å³°å€¼ï¼‰ï¼Œå¦‚æœé‡åˆ°è¿ç»­é€’å‡çš„æ•°å­—ä¸ªæ•° decrease æ°å¥½ä¸å³°å€¼çš„æ•°å­—ç›¸åŒï¼ˆæ¯”å¦‚å³°å€¼ä¸º 5ï¼Œå‰é¢åˆæœ‰ 4 ä¸ªé€’å‡çš„æ•° 4,3,2,1ï¼Œæ­¤æ—¶ decrease = 4ï¼Œè¿™æ—¶åˆé‡åˆ°ä¸€ä¸ªé€’å‡çš„æ•°ï¼‰ï¼Œå°±æŠŠå³°å€¼ä¹Ÿçº³å…¥é€’å‡åºåˆ—ä¸­ï¼Œå³ç»™ decrease å† +1ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">candy</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="ow">or</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="n">increase</span><span class="p">,</span> <span class="n">decrease</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="n">pre</span>
            <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="n">pre</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="n">pre</span>
                <span class="n">decrease</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">increase</span> <span class="o">=</span> <span class="n">pre</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">decrease</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">decrease</span> <span class="o">==</span> <span class="n">increase</span><span class="p">:</span>
                    <span class="n">decrease</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="n">decrease</span>
                <span class="n">pre</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h3 id="æ–¹æ³•äºŒè´ªå¿ƒæ³•">æ–¹æ³•äºŒï¼šè´ªå¿ƒæ³•</h3>
<p>è´ªå¿ƒæ³•æ›´å®¹æ˜“ç†è§£ä¸å®ç°ï¼š</p>
<ol>
<li>æ­£å‘éå†ï¼Œå¦‚æœ arr[i] &gt; arr[i - 1]ï¼Œåˆ™ left[i] = left[i - 1] + 1ï¼Œå¦åˆ™ left[i] = 1ï¼›</li>
<li>åå‘éå†ï¼Œå¦‚æœ arr[i] &gt; arr[i + 1]ï¼Œåˆ™ right[i] = right[i + 1] + 1ï¼Œå¦åˆ™ right[i] = 1ï¼›</li>
<li>è”ç«‹èµ·æ¥æ±‚æœ€å¤§å€¼ï¼Œå³ result[i] = max(left[i], right[i])ï¼Œå†è¿”å› result æ•°ç»„çš„å’Œã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">candy</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="n">left</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">left</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="n">right</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">right</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
</code></pre></div><p>ä½†æ˜¯è´ªå¿ƒæ³•ä¸ºä»€ä¹ˆæ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿå› ä¸ºæ­£å‘éå†å’Œåå‘éå†ï¼Œè®¡ç®—å‡ºæ¥çš„éƒ½æ˜¯æ»¡è¶³é¢˜ç›®è¦æ±‚çš„æœ€å°å€¼çš„ä¸€ä¸ªä¸‹ç•Œï¼Œå³ result[i] &gt;= max(left[i], right[i])ï¼Œåªéœ€è¦éªŒè¯ max(left[i], right[i]) ç¡®å®æ˜¯ç¬¦åˆé¢˜ç›®è¦æ±‚çš„ä¸€ä¸ªè§£ã€‚</p>
<p>å‡è®¾ A,B æ˜¯æ•°ç»„ä¸­ç›¸é‚»çš„ä¸¤ä¸ªæ•°çš„ä¸‹æ ‡ï¼Œä¸” arr[A] &gt; arr[B]ï¼Œå¦‚æœ A &gt; Bï¼Œåˆ™ left[A] &gt; left[B] &gt;= 1, right[A] &gt;= right[B] = 1ï¼Œæ•… max(left[A], right[A]) &gt;= left[A] &gt; max(left[B], right[B]) = left[B]ã€‚ç”±å¯¹ç§°æ€§ï¼ŒB &gt; A æ—¶ä¹Ÿæˆç«‹ã€‚å½“ arr[A] == arr[B] æ—¶ï¼Œä¹Ÿæ˜¾ç„¶æ˜¯é¢˜ç›®çš„è§£ï¼ˆå› ä¸ºé¢˜ç›®æ²¡ä½œè¦æ±‚ï¼‰ï¼Œå› æ­¤ max(left[i], right[i]) ç¡®å®æ˜¯ç¬¦åˆè¦æ±‚çš„è§£ã€‚æ•…ç¡®å®ä¸ºæœ€å°å€¼ã€‚</p>
<h2 id="bm96-ä¸»æŒäººè°ƒåº¦äºŒ">BM96 ä¸»æŒäººè°ƒåº¦ï¼ˆäºŒï¼‰</h2>
<p>ä¸€å¼€å§‹æƒ³åˆ° <a class="link" href="https://en.wikipedia.org/wiki/Interval_scheduling"  target="_blank" rel="noopener"
    >åŒºé—´è°ƒåº¦é—®é¢˜</a> å»äº†ï¼ŒæŠŠç®€å•çš„é—®é¢˜å¤æ‚åŒ–äº†â€¦â€¦</p>
<p>å…¶å®å°±æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—ç³»ç»Ÿï¼Œæ´»åŠ¨åˆ°å¼€å§‹æ—¶é—´å°±è¿›å…¥é˜Ÿåˆ—ï¼Œåˆ°ç»“æŸæ—¶é—´å°±ç¦»å¼€é˜Ÿåˆ—ï¼Œè®°å½•é˜Ÿåˆ—ä¸­æ´»åŠ¨æ•°é‡çš„æœ€å¤§å€¼ã€‚å¯ä»¥ç›´æ¥éå†ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©æ•°æ®ç»“æ„ï¼ˆå¦‚å°é¡¶å †ï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minmumNumberOfHost</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">startEnd</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">heapq</span>
        <span class="n">startEnd</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">heapq</span><span class="o">.</span><span class="n">heapify</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="ow">in</span> <span class="n">startEnd</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">queue</span> <span class="ow">and</span> <span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">start</span><span class="p">:</span>
                <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
            <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><p>ä¹Ÿæœ‰æ›´ç®€å•ç›´è§‚çš„æ–¹æ³•ï¼šè®°å½•ä¸‹æ‰€æœ‰å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œå¹¶æŒ‰æ—¶é—´å‰åæ’åºï¼Œresult ä» 0 å¼€å§‹ï¼Œé‡åˆ°å¼€å§‹æ—¶é—´ +1ï¼Œé‡åˆ°ç»“æŸæ—¶é—´ -1ï¼Œæœ€åè¿”å› result çš„æœ€å¤§å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minmumNumberOfHost</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">startEnd</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">startEnd</span><span class="p">]</span>
        <span class="n">end</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">startEnd</span><span class="p">]</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span>
        <span class="n">result</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">+=</span> <span class="n">event</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><p>BTWï¼Œæ— æƒé‡çš„åŒºé—´è°ƒåº¦é—®é¢˜ï¼ˆå³é€‰æ‹©æ•°é‡æœ€å¤šçš„ä¸é‡åˆåŒºé—´ï¼‰ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨è´ªå¿ƒç®—æ³•å¾—åˆ°æœ€ä¼˜è§£çš„ã€‚</p>
<h2 id="bm97-æ—‹è½¬æ•°ç»„">BM97 æ—‹è½¬æ•°ç»„</h2>
<p>è¿™ä¸ªé—®é¢˜çš„å†å²å¯èƒ½æ¯” Unix è¿˜è¦æ‚ ä¹…ğŸ˜‚</p>
<h3 id="æ–¹æ³•ä¸€ä¸‰æ¬¡é•œåƒ">æ–¹æ³•ä¸€ï¼šä¸‰æ¬¡é•œåƒ</h3>
<p>æŠŠæ•°ç»„åˆ†æˆ [A B]ï¼Œå…ˆç¿»è½¬ä¸€æ¬¡å¾—åˆ° [B' A']ï¼Œå†åˆ†åˆ«ç¿»è½¬è¿‡æ¥ï¼Œå°±å¾—åˆ°äº† [B A]ï¼Œåè¿‡æ¥ä¹Ÿå¯ä»¥ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">%</span> <span class="n">n</span>
        <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
            <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
                <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">end</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">]</span>
                <span class="n">start</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">end</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">reverse</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">reverse</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">reverse</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">arr</span>
</code></pre></div><p><img src="https://c4rla.github.io/roll/p/oj-07/vector-rotation-reversal.jpg"
	width="1007"
	height="423"
	
	loading="lazy"
	
		alt="å…ˆç¿»è½¬å·¦æ‰‹ï¼Œå†ç¿»è½¬å³æ‰‹ï¼Œæœ€åä¸¤åªæ‰‹ä¸€èµ·ç¿»è½¬ï¼"
	
	
		class="gallery-image" 
		data-flex-grow="238"
		data-flex-basis="571px"
	
></p>
<p>è¿™ä¸€ç®—æ³•æœ‰è¯¸å¤šä¼˜ç‚¹ï¼šå®¹æ˜“ç†è§£ä¸å®ç°ï¼Œç©ºé—´å’Œæ—¶é—´éƒ½å¾ˆé«˜æ•ˆï¼Œä»£ç ç®€çŸ­éš¾ä»¥å‡ºé”™ã€‚Ken Thompson åœ¨ 1971 å¹´å¼€å‘ ed æ–‡æœ¬ç¼–è¾‘å™¨æ—¶ä½¿ç”¨äº†è¿™ä¸€ç®—æ³•ï¼Œå¹¶ä¸»å¼ æŠŠå®ƒä½œä¸ºä¸€ç§ç¼–ç¨‹å¸¸è¯†ã€‚</p>
<h3 id="æ–¹æ³•äºŒå¾ªç¯ç§»ä½">æ–¹æ³•äºŒï¼šå¾ªç¯ç§»ä½</h3>
<p>æ³¨æ„åˆ°ç§»ä½åçš„åæ ‡ï¼Œ0-&gt;m, 1-&gt;m+1,...,n-1-&gt;m-1ï¼Œæ°å¥½æ˜¯æ¯ä¸ªåæ ‡åŠ ä¸Š mï¼ˆå†å¯¹ n æ±‚ä½™ï¼‰ï¼Œåªè¦æ‰¾åˆ°ä¸€æ¡éå†çš„è·¯å¾„å°±å¥½ã€‚</p>
<p><img src="https://c4rla.github.io/roll/p/oj-07/vector-rotation-juggling.jpg"
	width="800"
	height="258"
	
	loading="lazy"
	
		alt="Jon Bentley ç§°ä¹‹ä¸ºâ€œç²¾å·§çš„æ‚æŠ€â€ã€‚"
	
	
		class="gallery-image" 
		data-flex-grow="310"
		data-flex-basis="744px"
	
></p>
<p>ä½¿ç”¨ä¸€ç‚¹å¾ªç¯ç¾¤çš„çŸ¥è¯†ï¼Œå¦‚æœ m,n äº’ç´ ï¼Œ0-&gt;m-&gt;2m-&gt;...-&gt;(n-1)m-&gt;0 (mod n) å¯ä»¥éå†æ•°ç»„çš„æ‰€æœ‰æ•°ã€‚å¦‚æœ m å’Œ n æœ€å¤§å…¬çº¦æ•°ä¸º g &gt; 1ï¼Œéœ€è¦åˆ†åˆ«ä»¥ range(g) ä¸ºå¼€å¤´éå†æ‰èƒ½å®Œæˆã€‚æƒ³æ³•è™½ç„¶ç®€å•ï¼Œè¦å†™å‡ºä»£ç å¹¶ä¸å®¹æ˜“â€¦â€¦</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">gcd</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">%</span> <span class="n">n</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gcd</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)):</span> 
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">while</span> <span class="n">start</span> <span class="o">!=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[(</span><span class="n">start</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">]</span> <span class="c1"># é¢˜æ„è¦åè¿‡æ¥</span>
                <span class="n">start</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span>
            <span class="n">arr</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">return</span> <span class="n">arr</span>
</code></pre></div><p>ç†è®ºä¸Šï¼Œè¿™ä¸ªç®—æ³•ä¼¼ä¹æ˜¯æœ€å¿«çš„ï¼Œå› ä¸ºåªæ˜¯éå†æ‰€æœ‰æ•°ä¸€æ¬¡è¿›è¡Œäº†ç§»ä½ï¼Œæ“ä½œæ•°é‡åº”è¯¥æ˜¯æœ€å°‘çš„ã€‚ç„¶è€Œç°å®ä¸­ï¼Œéšç€ m,n çš„å¢å¤§ï¼Œ<a class="link" href="https://web.archive.org/web/20030902103955/http://www.cs.bell-labs.com/cm/cs/pearls/s02b.pdf"  target="_blank" rel="noopener"
    >ç®—æ³•çš„é€Ÿåº¦å¹¶ä¸è®©äººæ»¡æ„</a>ã€‚Jon Bentley çŒœæµ‹ï¼Œè¿™ä¸ªç®—æ³•ä¸èƒ½å¾ˆå¥½åœ°åˆ©ç”¨é«˜é€Ÿç¼“å­˜ï¼Œè¿˜ä¼šå½±å“ç³»ç»Ÿé¡µé¢çš„æ€§èƒ½ã€‚</p>
<h3 id="æ–¹æ³•ä¸‰å—äº¤æ¢">æ–¹æ³•ä¸‰ï¼šå—äº¤æ¢</h3>
<p><del>å…¶å®é€ƒè¯¾æ‰æ˜¯æ­£å¸¸æƒ³æ³•å§ï¼</del></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">%</span> <span class="n">n</span>
        <span class="n">arr</span><span class="p">[:</span><span class="n">m</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">m</span><span class="p">:]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="o">-</span><span class="n">m</span><span class="p">:],</span> <span class="n">arr</span><span class="p">[:</span><span class="n">n</span><span class="o">-</span><span class="n">m</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">arr</span>
</code></pre></div><p>ä½†æ˜¯é¢˜ç›®ä¸å…è®¸ä½¿ç”¨é¢å¤–çš„ç©ºé—´è¿›è¡Œäº¤æ¢ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å‘¢ï¼Ÿä¸å¦¨å‡è®¾ [A B] -&gt; [B A]ï¼š</p>
<ul>
<li>å¦‚æœ A å’Œ B ç­‰é•¿ï¼Œç›´æ¥ swap(A, B) å³å¯ï¼›</li>
<li>å¦‚æœ A æ¯” B é•¿ï¼Œåˆ™åˆ†æˆ [A1 A2 B] å† swap(A1, B) -&gt;[B A2 A1]ï¼Œè½¬åŒ–æˆäº†äº¤æ¢ A2 å’Œ A1 çš„å­é—®é¢˜ï¼›</li>
<li>å¦‚æœ A æ¯” B çŸ­ï¼ŒåŒæ ·åˆ†æˆ [A B1 B2] å† swap(A, B2) -&gt; [B2 B1 A]ï¼Œè½¬åŒ–æˆäº†äº¤æ¢ B2 ä¸ B1 çš„å­é—®é¢˜ã€‚</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°è¿™ä¸€æµç¨‹ç­‰ä»·äºæ±‚æœ€å¤§å…¬çº¦æ•°çš„æ›´ç›¸å‡æŸæœ¯ï¼Œæ•…ä¸€å®šä¼šç»ˆæ­¢ã€‚å¯ä»¥ä½¿ç”¨é€’å½’ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿­ä»£ï¼ˆGries &amp; Millsï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">arr</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span> <span class="c1"># arr[a,...,a+m-1] &lt;-&gt; arr[b,...,b+m-1]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
                <span class="n">arr</span><span class="p">[</span><span class="n">a</span> <span class="o">+</span> <span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">b</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">b</span> <span class="o">+</span> <span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">a</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">m</span> <span class="o">%</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arr</span>
        <span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">,</span> <span class="n">m</span> <span class="c1"># æŠŠå‰é¢ n-m ä¸ªå…ƒç´ ç§»åˆ°åé¢</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">j</span><span class="p">:</span> <span class="c1"># p - åˆ†ç•Œç‚¹ï¼Œi - å·¦è¾¹é•¿åº¦ï¼Œj - å³è¾¹é•¿åº¦</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">j</span><span class="p">:</span> <span class="c1"># å·¦è¾¹æ¯”å³è¾¹é•¿ [A1 A2 B] -&gt; [B A2 A1]</span>
                <span class="n">swap</span><span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                <span class="n">i</span> <span class="o">-=</span> <span class="n">j</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># å³è¾¹æ¯”å·¦è¾¹é•¿ [A B1 B2] -&gt; [B2 B1 A]</span>
                <span class="n">swap</span><span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">p</span> <span class="o">+</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">j</span> <span class="o">-=</span> <span class="n">i</span>
        <span class="n">swap</span><span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">arr</span>
</code></pre></div><p>è¿™æ˜¯å®é™…æµ‹è¯•ä¸­æœ€å¿«çš„ç®—æ³•ï¼ˆå¯èƒ½å› ä¸ºèƒ½åˆ©ç”¨é«˜é€Ÿç¼“å­˜ï¼‰ï¼Œä¸è¿‡å†™èµ·æ¥å¤æ‚å®¹æ˜“å‡ºé”™ã€‚</p>
<p>æ‰©å±•é˜…è¯»ï¼šã€Šç¼–ç¨‹ç ç‘ã€‹by Jon Bentley</p>
<h2 id="bm98-èºæ—‹çŸ©é˜µ">BM98 èºæ—‹çŸ©é˜µ</h2>
<p>æŒºæ™®é€šçš„ä¸€é“é¢˜â€¦â€¦æ¨¡æ‹Ÿ 4 ä¸ªè¾¹ç•Œï¼Œæ’åˆ°è¾¹ç•Œä¹‹åæ›´æ–°è¾¹ç•Œçš„å€¼å’Œå‰è¿›æ–¹å‘ï¼Œéš¾ç‚¹æ˜¯ç¡®å®šç»ˆæ­¢æ¡ä»¶ã€‚</p>
<p>è¿™é‡Œä¸ºäº†ç®€ä¾¿ä½¿ç”¨äº†å¤æ•°è®°å½•çŸ©é˜µçš„åæ ‡ï¼Œ(i,j) è¡¨ç¤ºçŸ©é˜µç¬¬ i è¡Œç¬¬ j åˆ—ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">spiralOrder</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">matrix</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">moves</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="n">j</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># å³ ä¸‹ å·¦ ä¸Š</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="c1"># ä¸Š å³ ä¸‹ å·¦</span>
        <span class="n">status</span><span class="p">,</span> <span class="n">cor</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="n">j</span><span class="p">,</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">cor</span><span class="o">.</span><span class="n">real</span> <span class="o">&lt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">cor</span><span class="o">.</span><span class="n">imag</span> <span class="o">&lt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="c1"># ä»ç„¶åœ¨è¾¹ç•ŒèŒƒå›´å†…</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">cor</span><span class="o">.</span><span class="n">real</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="n">cor</span><span class="o">.</span><span class="n">imag</span><span class="p">)])</span>
                <span class="n">cor</span> <span class="o">+=</span> <span class="n">moves</span><span class="p">[</span><span class="n">status</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># è¶Šç•Œ</span>
                <span class="k">if</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">or</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="c1"># ç»ˆæ­¢æ¡ä»¶</span>
                    <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span> <span class="c1">#é€€ä¸€æ ¼ï¼Œæ›´æ–°è¾¹ç•Œå€¼ï¼Œå‰è¿›</span>
                    <span class="n">cor</span> <span class="o">-=</span> <span class="n">moves</span><span class="p">[</span><span class="n">status</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
                        <span class="n">bounds</span><span class="p">[</span><span class="n">status</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">bounds</span><span class="p">[</span><span class="n">status</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="p">(</span><span class="n">status</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span>
                    <span class="n">cor</span> <span class="o">+=</span> <span class="n">moves</span><span class="p">[</span><span class="n">status</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div><h2 id="bm99-é¡ºæ—¶é’ˆæ—‹è½¬çŸ©é˜µ">BM99 é¡ºæ—¶é’ˆæ—‹è½¬çŸ©é˜µ</h2>
<p><img src="https://c4rla.github.io/roll/p/oj-07/matrix-rotation.png"
	width="2132"
	height="996"
	
	loading="lazy"
	
		alt="Credit: é¢˜è§£"
	
	
		class="gallery-image" 
		data-flex-grow="214"
		data-flex-basis="513px"
	
></p>
<p>å’Œ BM97 ç±»ä¼¼ï¼Œå…ˆè½¬ç½®åç¿»è½¬ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rotateMatrix</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">mat</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># è½¬ç½®çŸ©é˜µ</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                <span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">mat</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># ç¿»è½¬çŸ©é˜µ</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="mi">2</span><span class="p">):</span>
                <span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">],</span> <span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">mat</span>
</code></pre></div><h2 id="bm100-è®¾è®¡lruç¼“å­˜ç»“æ„">BM100 è®¾è®¡LRUç¼“å­˜ç»“æ„</h2>
<p>æƒ³äº†å¾ˆä¹…éƒ½æ²¡æœ‰æƒ³æ˜ç™½æ€ä¹ˆæŠŠå“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨ç»“åˆåœ¨ä¸€èµ·è¿˜èƒ½åšåˆ° O(1)ï¼Œä¸€çœ‹æºç ï¼Œæ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨å­˜æ”¾ key å¯¹åº”çš„åŒå‘é“¾è¡¨ç»“ç‚¹çš„å¼•ç”¨ï¼Œè¿™æ˜¯æ€ä¹ˆæƒ³å‡ºæ¥çš„ğŸ˜­</p>
<ol>
<li>get çš„æµç¨‹ï¼šé¦–å…ˆæŸ¥è¯¢å“ˆå¸Œè¡¨ dï¼Œå¦‚æœæ‰¾åˆ° d[key]ï¼Œè®¿é—® d[key] çš„ç»“ç‚¹è·å– valï¼ˆå“ˆå¸Œè¡¨ï¼ŒO(1)ï¼‰ï¼Œå¹¶æŠŠ d[key] çš„ç»“ç‚¹ç§»åˆ°æœ«å°¾ï¼ˆåŒå‘é“¾è¡¨ï¼ŒO(1)ï¼‰ï¼›</li>
<li>set çš„æµç¨‹ï¼šå¦‚æœ key å­˜åœ¨ï¼Œè®¿é—® d[key] çš„ç»“ç‚¹ä¿®æ”¹ valï¼ˆå“ˆå¸Œè¡¨ï¼ŒO(1)ï¼‰ï¼Œå¹¶æŠŠ d[key] çš„ç»“ç‚¹ç§»åˆ°æœ«å°¾ï¼ˆåŒå‘é“¾è¡¨ï¼ŒO(1)ï¼‰ï¼›å¦åˆ™æ–°å¢ç»“ç‚¹ï¼Œå¦‚æœå®¹é‡ä¸è¶³ï¼Œéœ€è¦åˆ æ‰åŒå‘é“¾è¡¨å¤´ç»“ç‚¹ï¼ˆåŒå‘é“¾è¡¨ï¼ŒO(1)ï¼‰å¹¶ä¸”åŒæ—¶åˆ æ‰å¯¹åº”çš„ d[key] è®°å½•ï¼ˆå“ˆå¸Œè¡¨ï¼ŒO(1)ï¼‰ï¼Œç„¶ååœ¨åŒå‘é“¾è¡¨æœ«ç«¯æ’å…¥ç»“ç‚¹ï¼ˆåŒå‘é“¾è¡¨ï¼ŒO(1)ï¼‰ï¼Œæœ€åç»™ d[key] å†™å…¥ç»“ç‚¹çš„å¼•ç”¨ï¼ˆå“ˆå¸Œè¡¨ï¼ŒO(1)ï¼‰ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span> <span class="c1"># åŒå‘é“¾è¡¨ç»“ç‚¹ï¼Œå­˜å‚¨ val</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span> <span class="c1"># ä¸ºäº†èƒ½åˆ é™¤å¤´ç»“ç‚¹</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">insert_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span> <span class="c1"># é“¾è¡¨å°¾æ’å…¥æ–°ç»“ç‚¹</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">node</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">node</span>
    
    <span class="k">def</span> <span class="nf">move_to_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span> <span class="c1"># æŠŠç»“ç‚¹ç§»åˆ°é“¾è¡¨å°¾</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">node</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="p">:</span> <span class="c1"># è„±ç¦»</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pre</span><span class="p">,</span> <span class="n">nxt</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">pre</span><span class="p">,</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>
            <span class="n">pre</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">nxt</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="n">nxt</span><span class="p">,</span> <span class="n">pre</span>
        <span class="n">node</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert_end</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">remove_head</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># åˆ é™¤å¤´ç»“ç‚¹</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>
        <span class="k">del</span> <span class="n">node</span>
        
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">val</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">result</span>
            
    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">:</span> <span class="c1"># æ›´æ–°å€¼</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_head</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_end</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</code></pre></div><p>Python çš„ OrderedDict å°±æ˜¯ <a class="link" href="https://hg.python.org/cpython/file/2.7/Lib/collections.py#l38"  target="_blank" rel="noopener"
    >ä½¿ç”¨å“ˆå¸Œè¡¨+åŒé“¾è¡¨å®ç°çš„</a>ï¼ŒOrderedDict è¿˜æä¾›äº† <a class="link" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict"  target="_blank" rel="noopener"
    >å®˜æ–¹é€ƒè¯¾æ•™ç¨‹</a>ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
            
    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span> <span class="c1"># æ›´æ–°å€¼</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">popitem</span><span class="p">(</span><span class="n">last</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div><p>é™¤æ­¤ä»¥å¤–ï¼ŒLRU ä¹Ÿå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨+å¹³è¡¡äºŒå‰æ ‘ï¼ˆå°é¡¶å †ï¼‰å®ç°ï¼Œæ¯”å¦‚åˆå§‹åŒ–ä¸€ä¸ªæ—¶é—´è®¡æ•°å™¨ timeï¼Œæ¯æ’å…¥/æ›´æ–°ä¸€æ¬¡å…ƒç´ å°±ä¿®æ”¹ä¸€æ¬¡æ—¶é—´è®¡æ•°å™¨ï¼Œå¹¶ä½œä¸ºå…ƒç´ çš„æ’åºä¾æ®ã€‚ä¸ºäº†ç»´æŠ¤æœ‰åºæ€§ï¼Œæ¯æ¬¡æ’å…¥å’Œæ›´æ–°å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦å°±å˜æˆäº† O(log n)ã€‚</p>
<p>ä¸è¿‡ Python æ²¡æœ‰å†…ç½®å¹³è¡¡äºŒå‰æ ‘ï¼Œå°é¡¶å † heapq æ˜¯ä½¿ç”¨åˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰å­˜å‚¨çš„ï¼Œä¸èƒ½å®ç° O(log n) åˆ é™¤æˆ–æ›´æ–°å…ƒç´ ï¼ˆ<code>heapq.heapify</code> æ˜¯ O(n) çš„ï¼Œå¦‚æœçŸ¥é“ä¸‹æ ‡å€’æ˜¯ <a class="link" href="https://stackoverflow.com/questions/10162679/python-delete-element-from-heap"  target="_blank" rel="noopener"
    >å¯ä»¥</a>ï¼Œä½†æ˜¯ä¸‹æ ‡ä¼šå˜ï¼‰ï¼Œåªèƒ½ä¸å¤ªä¼˜é›…åœ°å­¦ <a class="link" href="https://docs.python.org/zh-cn/3/library/heapq.html#priority-queue-implementation-notes"  target="_blank" rel="noopener"
    >ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°</a> æŠŠå…ƒç´ è®¾ç½®ä¸ºç§»é™¤çŠ¶æ€ï¼Œæ›´æ–°æ•°æ®åä½œä¸ºæ–°å…ƒç´ é‡æ–°æ’å…¥ã€‚</p>
<p>å¦‚æœåªæ˜¯æŠŠå…ƒç´ è®¾ç½®æˆç§»é™¤çŠ¶æ€ï¼ˆè€Œä¸æ˜¯çœŸçš„ç§»é™¤ï¼‰ï¼Œå…¶å®ä¹Ÿå¯ä»¥æŠŠåŒå‘é“¾è¡¨æ¢æˆåŒç«¯é˜Ÿåˆ—ï¼Œä¹Ÿå¯ä»¥å­¦ LFU ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆkey ä¸º timeï¼‰ä»£æ›¿åŒå‘é“¾è¡¨ï¼Œéœ€è¦é¢å¤–ç»´æŠ¤ä¸€ä¸ª min_time çŠ¶æ€ï¼Œä¸è¿‡å› ä¸º time çš„è·³è·ƒå¢é•¿ï¼Œæ•ˆç‡ä¼šæœ‰æ‰€ä¸‹é™ã€‚</p>
<h2 id="bm101-è®¾è®¡lfuç¼“å­˜ç»“æ„">BM101 è®¾è®¡LFUç¼“å­˜ç»“æ„</h2>
<p>å’Œ LRU ç±»ä¼¼ï¼Œåªæ˜¯è¦æ¯”è¾ƒçš„å¯¹è±¡ä»â€œæœ€è¿‘è®¿é—®æ—¶é—´â€å˜æˆ (è®¿é—®é¢‘ç‡ï¼Œæœ€è¿‘è®¿é—®æ—¶é—´) çš„äºŒå…ƒç»„ã€‚Python å¯ä»¥ç›´æ¥æ¯”è¾ƒå…ƒç»„/åˆ—è¡¨çš„å¤§å°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="kc">True</span>
</code></pre></div><p>å› æ­¤å¯ä»¥æŠŠåŒå‘é“¾è¡¨æ¢æˆå°é¡¶å †/å¹³è¡¡äºŒå‰æ ‘æ¥å®ç°ï¼Œä¸è¿‡æ»¡è¶³ä¸äº†æ—¶é—´å¤æ‚åº¦ O(1) çš„è¦æ±‚ã€‚</p>
<p>å¦ä¸€ç§åšæ³•æ˜¯ç»¼åˆåˆ©ç”¨å‰é¢çš„ä¸‰ç‚¹ç»éªŒï¼š</p>
<ul>
<li>ä½¿ç”¨å“ˆå¸Œè¡¨çš„å€¼å­˜æ”¾ç›®æ ‡å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯ä»¥åœ¨ä¸é™ä½æ—¶é—´å¤æ‚åº¦çš„æƒ…å†µä¸‹è¿›è¡Œæ‰©å±•ï¼›</li>
<li>ä½¿ç”¨ä¸€ä¸ª min_key çŠ¶æ€å’Œå“ˆå¸Œè¡¨ï¼Œå¯ä»¥å®ç° O(1) æ—¶é—´å¤æ‚åº¦ä¸‹å¯æ›´æ–° key æ•°å€¼çš„é˜Ÿåˆ—ï¼›</li>
<li>ä½¿ç”¨åŒå‘é“¾è¡¨åŒæ ·å¯ä»¥å®ç° O(1) æ—¶é—´å¤æ‚åº¦çš„é˜Ÿåˆ—ï¼Œä½†ä¸èƒ½éšæ„æ›´æ–° key çš„æ•°å€¼ã€‚</li>
</ul>
<p>äºæ˜¯å¯è®¾è®¡ä¸ºï¼š</p>
<ul>
<li>ä¾ç„¶æ˜¯ä½¿ç”¨æ€»å“ˆå¸Œè¡¨å­˜æ”¾å€¼ç»“ç‚¹çš„å¼•ç”¨ï¼›</li>
<li>å› ä¸ºä½¿ç”¨é¢‘ç‡ freq æ¯æ¬¡æ›´æ–°æ˜¯ +1 çš„ï¼Œå¯ä»¥ä½¿ç”¨ min_freq çŠ¶æ€å’Œå¦ä¸€ä¸ª freq å“ˆå¸Œè¡¨å­˜æ”¾é¢‘ç‡å’Œå€¼ç»“ç‚¹æ‰€åœ¨çš„æ•°æ®ç»“æ„ï¼›</li>
<li>æœ€åï¼Œå› ä¸ºæœ€è¿‘è®¿é—®æ—¶é—´ time æ¯æ¬¡æ›´æ–°éƒ½æ˜¯ç§»åˆ°ç»“å°¾ï¼Œå¯ä»¥ä½¿ç”¨åŒå‘é“¾è¡¨æ¥å­˜å‚¨ç»“ç‚¹ï¼Œè¿™æ ·å°±ä¸éœ€è¦å­˜å‚¨è®¿é—®æ—¶é—´çš„å€¼äº†ã€‚</li>
</ul>
<p>å…·ä½“è€Œè¨€ï¼š</p>
<ul>
<li>ä½¿ç”¨åŒå‘é“¾è¡¨çš„ç»“ç‚¹å­˜æ”¾å¯¹åº”çš„å€¼ï¼ˆä»¥åŠè®¿é—®é¢‘ç‡ freqï¼‰ï¼›</li>
<li>æ¯ä¸ªç»“ç‚¹æ‰€åœ¨çš„åŒå‘é“¾è¡¨ï¼Œå­˜æ”¾ç›¸åŒè®¿é—®é¢‘ç‡ freq çš„ç»“ç‚¹ï¼ŒåŒå‘é“¾è¡¨çš„å¼•ç”¨ä½œä¸º freq å“ˆå¸Œè¡¨ä¸­è®¿é—®é¢‘ç‡å¯¹åº”çš„å€¼ï¼›</li>
<li>è°ƒç”¨ set æ—¶ï¼Œé¦–å…ˆé€šè¿‡æ€»å“ˆå¸Œè¡¨æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼ˆå“ˆå¸Œè¡¨ï¼ŒO(1)ï¼‰ï¼š</li>
<li>
<ul>
<li>å¦‚æœå­˜åœ¨ï¼Œè®¿é—®ç»“ç‚¹ä¿®æ”¹å¯¹åº”çš„å€¼ï¼ˆO(1)ï¼‰ï¼ŒåŒæ—¶å¾—åˆ°å½“å‰è®¿é—®é¢‘ç‡ freqï¼›</li>
</ul>
</li>
<li>
<ul>
<li>ä½¿ç”¨ freq å“ˆå¸Œè¡¨ï¼Œæ‰¾åˆ°ç»“ç‚¹æ‰€åœ¨çš„åŒå‘é“¾è¡¨ï¼ˆO(1)ï¼‰ï¼Œä»åŒå‘é“¾è¡¨ä¸­ç§»é™¤ç»“ç‚¹ï¼ˆO(1)ï¼‰ï¼›</li>
</ul>
</li>
<li>
<ul>
<li>æ›´æ–°ç»“ç‚¹çš„è®¿é—®é¢‘ç‡ freqï¼Œå¹¶æ’å…¥å¯¹åº”é¢‘ç‡åœ¨å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„åŒå‘é“¾è¡¨æœ«ç«¯ï¼ˆO(1)ï¼‰ï¼Œæ­¤æ—¶å¯èƒ½éœ€è¦æ›´æ–° min_freq çš„å€¼ï¼›</li>
</ul>
</li>
<li>
<ul>
<li>å¦‚æœä¸å­˜åœ¨ï¼Œé¦–å…ˆæ£€æŸ¥å¯ç”¨å®¹é‡ capacity æ˜¯å¦å¤§äº 0ï¼Œå¦‚æœå¤§äº 0ï¼Œæ–°å»ºè¿™ä¸ªç»“ç‚¹ï¼Œå¹¶æ’å…¥åˆ°è®¿é—®é¢‘ç‡ä¸º 0 çš„åŒå‘é“¾è¡¨æœ«ç«¯ï¼Œæœ€ååœ¨æ€»å“ˆå¸Œè¡¨ä¸­å¡«å…¥å¼•ç”¨ï¼›</li>
</ul>
</li>
<li>
<ul>
<li>å¦‚æœå°äº 0ï¼Œæ£€æŸ¥ min_freq çš„å€¼ï¼Œåœ¨è®¿é—®é¢‘ç‡ä¸º min_freq çš„åŒå‘é“¾è¡¨ä¸­ç§»é™¤å¤´éƒ¨çš„å€¼å†æ’å…¥ï¼›</li>
</ul>
</li>
<li>
<ul>
<li>å†™å…¥æ–°ç»“ç‚¹å®Œæˆåï¼Œé‡æ–°æŠŠ min_freq çš„å€¼è®¾ä¸º 0ã€‚</li>
</ul>
</li>
<li>è°ƒç”¨ get æ—¶å’Œ set ç±»ä¼¼ï¼Œå¦‚æœå­˜åœ¨ï¼Œæ›´æ–°é¢‘ç‡åè¿”å›å€¼ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› -1ã€‚</li>
</ul>
<p>å¾ˆç²¾å·§çš„è®¾è®¡ï¼å°±ç®—çœ‹æ‡‚äº†ï¼Œè¦å†™èµ·æ¥ä¹Ÿå¹¶ä¸å®¹æ˜“ã€‚æ€ä¹ˆè¡¨ç¤ºåŒå‘é“¾è¡¨å‘¢ï¼Ÿæ€ä¹ˆæ£€æŸ¥åŒå‘é“¾è¡¨æ˜¯å¦ä¸ºç©ºå‘¢ï¼ˆæ­¤æ—¶ min_freq += 1ï¼‰ï¼Ÿå†™ç€å†™ç€ï¼Œä¸€ä¸ªæ™šä¸Šå°±æ²¡äº†ğŸ˜­</p>
<p>æœ€åè¿˜æ˜¯ç£•ç£•ç¢°ç¢°ç…§ç€é¢˜è§£å†™äº† 100 è¡Œâ€¦â€¦<del>å¦‚æœé¢è¯•é‡åˆ°è¿™é“é¢˜ï¼Œå¿«è·‘ï¼</del></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">class</span> <span class="nc">Node</span><span class="p">:</span> <span class="c1"># åŒå‘é“¾è¡¨ç»“ç‚¹ï¼Œå­˜å‚¨ key, val, freq</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freq</span> <span class="o">=</span> <span class="n">freq</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
    
<span class="k">class</span> <span class="nc">DLL</span><span class="p">:</span> <span class="c1"># å®šä¹‰åŒé“¾è¡¨</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="kc">None</span>
    
    <span class="k">def</span> <span class="nf">insert_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span> <span class="c1"># æ’å…¥å°¾ç»“ç‚¹</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">node</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">node</span>
    
    <span class="k">def</span> <span class="nf">remove_head</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># åˆ é™¤å¤´ç»“ç‚¹</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># node == self.tail</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>
            <span class="k">return</span> <span class="n">node</span>
    
    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span> <span class="c1"># ç§»é™¤ç‰¹å®šç»“ç‚¹</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_head</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">node</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">pre</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">next</span>
            <span class="n">node</span><span class="o">.</span><span class="n">next</span><span class="o">.</span><span class="n">pre</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">pre</span>
    
    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">head</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">tail</span> <span class="o">==</span> <span class="kc">None</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">DLL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span> <span class="c1"># æ›´æ–°ç»“ç‚¹ï¼Œè®¿é—®é¢‘ç‡+1</span>
        <span class="n">freq</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">freq</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="p">[</span><span class="n">freq</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="p">[</span><span class="n">freq</span><span class="p">]:</span> <span class="c1"># åŒå‘é“¾è¡¨ä¸ºç©º</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span> <span class="o">==</span> <span class="n">freq</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">freq</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="p">[</span><span class="n">freq</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">insert_end</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
                
    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># ç§»é™¤é¢‘ç‡æœ€ä½çš„ç¼“å­˜</span>
                <span class="n">old_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span><span class="p">]</span><span class="o">.</span><span class="n">remove_head</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span><span class="p">]:</span> <span class="c1"># åŒå‘é“¾è¡¨ä¸ºç©º</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">old_node</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min_freq</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">freq_cache</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">insert_end</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
        
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">val</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    
    <span class="k">def</span> <span class="nf">LFU</span><span class="p">(</span><span class="bp">self</span> <span class="p">,</span> <span class="n">operators</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">k</span>
        <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operators</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">op</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># set æ“ä½œ</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">op</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">op</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># get æ“ä½œ</span>
                <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">op</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div><p>å¤©å•Šï¼Œæ•´æ•´ 100 è¡Œï¼è°ƒè¯•è°ƒäº†ä¸€ä¸ªå°æ—¶ï¼ç»ˆäºç»“æŸäº†ğŸ˜­</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="https://c4rla.github.io/roll/tags/oj/">OJ</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    <aside class="related-contents--wrapper">
    
    
</aside>

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="c4rla/roll"
    data-repo-id="R_kgDOHFDxiw"
    data-category="Announcements"
    data-category-id="DIC_kwDOHFDxi84COtuG"
    data-mapping="pathname"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector('iframe.giscus-frame');
        if (giscus) {
            giscus.contentWindow.postMessage(
                { 
                    giscus: {
                        setConfig: { 
                            theme: theme 
                        }
                    }
                },
                "https://giscus.app"
            );
        };
    };

    (function(){
        addEventListener('message', (e) => {
            if (event.origin !== 'https://giscus.app') return;
            handler()
        });
        window.addEventListener('onColorSchemeChange', handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('light');
            } else {
                setGiscusTheme('dark_dimmed');
            };
        };
    }());
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2022 å·å¿ƒèœ
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.8.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
        <aside class="sidebar right-sidebar sticky">
            <section class="widget archives">
                <div class="widget-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                </div>
                <h2 class="widget-title section-title">ç›®å½•</h2>
                
                <div class="widget--toc">
                    <nav id="TableOfContents">
  <ol>
    <li><a href="#bm83-å­—ç¬¦ä¸²å˜å½¢">BM83 å­—ç¬¦ä¸²å˜å½¢</a></li>
    <li><a href="#bm84-æœ€é•¿å…¬å…±å‰ç¼€">BM84 æœ€é•¿å…¬å…±å‰ç¼€</a></li>
    <li><a href="#bm85-éªŒè¯ipåœ°å€">BM85 éªŒè¯IPåœ°å€</a></li>
    <li><a href="#bm86-å¤§æ•°åŠ æ³•">BM86 å¤§æ•°åŠ æ³•</a></li>
    <li><a href="#bm87-åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„">BM87 åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„</a></li>
    <li><a href="#bm88-åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²">BM88 åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²</a></li>
    <li><a href="#bm89-åˆå¹¶åŒºé—´">BM89 åˆå¹¶åŒºé—´</a></li>
    <li><a href="#bm90-æœ€å°è¦†ç›–å­ä¸²">BM90 æœ€å°è¦†ç›–å­ä¸²</a></li>
    <li><a href="#bm91-åè½¬å­—ç¬¦ä¸²">BM91 åè½¬å­—ç¬¦ä¸²</a></li>
    <li><a href="#bm92-æœ€é•¿æ— é‡å¤å­æ•°ç»„">BM92 æœ€é•¿æ— é‡å¤å­æ•°ç»„</a></li>
    <li><a href="#bm93-ç››æ°´æœ€å¤šçš„å®¹å™¨">BM93 ç››æ°´æœ€å¤šçš„å®¹å™¨</a></li>
    <li><a href="#bm94-æ¥é›¨æ°´é—®é¢˜">BM94 æ¥é›¨æ°´é—®é¢˜</a>
      <ol>
        <li><a href="#æ–¹æ³•ä¸€æ­£åéå†">æ–¹æ³•ä¸€ï¼šæ­£åéå†</a></li>
        <li><a href="#æ–¹æ³•äºŒåŒæŒ‡é’ˆ">æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ</a></li>
        <li><a href="#æ–¹æ³•ä¸‰å•è°ƒæ ˆ">æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆ</a></li>
      </ol>
    </li>
    <li><a href="#bm95-åˆ†ç³–æœé—®é¢˜">BM95 åˆ†ç³–æœé—®é¢˜</a>
      <ol>
        <li><a href="#æ–¹æ³•ä¸€ç›´æ¥æ³•">æ–¹æ³•ä¸€ï¼šç›´æ¥æ³•</a></li>
        <li><a href="#æ–¹æ³•äºŒè´ªå¿ƒæ³•">æ–¹æ³•äºŒï¼šè´ªå¿ƒæ³•</a></li>
      </ol>
    </li>
    <li><a href="#bm96-ä¸»æŒäººè°ƒåº¦äºŒ">BM96 ä¸»æŒäººè°ƒåº¦ï¼ˆäºŒï¼‰</a></li>
    <li><a href="#bm97-æ—‹è½¬æ•°ç»„">BM97 æ—‹è½¬æ•°ç»„</a>
      <ol>
        <li><a href="#æ–¹æ³•ä¸€ä¸‰æ¬¡é•œåƒ">æ–¹æ³•ä¸€ï¼šä¸‰æ¬¡é•œåƒ</a></li>
        <li><a href="#æ–¹æ³•äºŒå¾ªç¯ç§»ä½">æ–¹æ³•äºŒï¼šå¾ªç¯ç§»ä½</a></li>
        <li><a href="#æ–¹æ³•ä¸‰å—äº¤æ¢">æ–¹æ³•ä¸‰ï¼šå—äº¤æ¢</a></li>
      </ol>
    </li>
    <li><a href="#bm98-èºæ—‹çŸ©é˜µ">BM98 èºæ—‹çŸ©é˜µ</a></li>
    <li><a href="#bm99-é¡ºæ—¶é’ˆæ—‹è½¬çŸ©é˜µ">BM99 é¡ºæ—¶é’ˆæ—‹è½¬çŸ©é˜µ</a></li>
    <li><a href="#bm100-è®¾è®¡lruç¼“å­˜ç»“æ„">BM100 è®¾è®¡LRUç¼“å­˜ç»“æ„</a></li>
    <li><a href="#bm101-è®¾è®¡lfuç¼“å­˜ç»“æ„">BM101 è®¾è®¡LFUç¼“å­˜ç»“æ„</a></li>
  </ol>
</nav>
                </div>
            </section>
        </aside>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="https://c4rla.github.io/roll/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
